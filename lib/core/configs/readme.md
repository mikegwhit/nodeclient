# Configs

Configs include JSON configs in a directory using recursive scandir.  All properties are overridden using `deep-assign`.  Defaults and overrides may be programmatically assigned.

## Example Usage
`require('ncli-core-configs')` returns an object of config options. Configs options determined by files in a `configs/*` filepath.  For example, given this directory structure:

```
    configs/example.json
    configs/myconfig.json
    node_modules/*
    node_modules/package_name/*
    node_modules/package_name/configs/example.json
    node_modules/package_name/configs/otherconfig.json
    index.js
    package.json
```

An object will be generated by calling `require('ncli-core-configs/configs.class.js').readConfigs()`:

```
    {
        'example': {...},
        'myconfig': {...},
        'otherconfig': {...}
    }
```

## Dependencies
<table>
    <tr>
        <td>Name</td>
        <td>Description</td>
    </tr>
    <tr>
        <td><strong>deep-assign</strong></td>
        <td>Merges config files without losing data.</td>
    </tr>
</table>

## Install Behavior
Creates a `configs` folder in the installation directory.


## `require('ncli-core-configs')` Behavior
Returns an object of configs, keyed by config file.

## Exaplained: Filesystem and Config Overrides

By default, all configs placed in your execution directory will override node_modules packages using `deep-assign`.  Consider the contents of  `node_moodules/package_name/configs/example.json`:

```
    {
        'config_option': 'foo',
        'some_other_option': 'foobar'
    }
```

Where the contents of `configs/example.json` is also set:


```
    {
        'config_option': 'bar',
        'should_read_documentation': true
    }
```

When `configs/example.json` specifies `config_option` the result of `require('ncli-core-configs/configs.class.js').readConfigs()` overrides `node_moodules/package_name/configs/example.json`.  The resulting JSON is as follows:

```
    {
        'example': {
            'config_option': 'bar',
            'should_read_documentation': true,
            'some_other_option': 'foobar'
        },
        'myconfig': {...}
    }
```

## Use Case: Programmatically Control Configs
Using `require('ncli-core-configs/configs.class.js')` returns the `Configs` singleton.  Defaults and overrides may be specified using this singleton:

```
    let configs = require('configs/configs.class.js');
    configs.setDefault('example', {
        'favorite_sport': 'tennis'
    });
    Configs.setOverride('example', {
        'should_read_documentation': true
    });
    console.log(require('ncli-core-configs')['example']);
```

Given the filesystem specified in the above example, the output would be a JSON object of configs for the `example` file:

```
    {
        'config_option': 'bar',
        'favorite_sport': 'tennis',
        'should_read_documentation': true,
        'some_other_option': 'foobar'
    }
```


<img src="../../../media/logo.png" width="250"/>